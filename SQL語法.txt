/*第一步 先執行這段，建立DATABASE */
IF NOT EXISTS (SELECT * FROM  sysdatabases where name='CoinShell')
CREATE DATABASE CoinShell


/*第二步 執行下面這段，建立Table*/


USE CoinShell
CREATE TABLE Members(
Id INT IDENTITY(1000,5) PRIMARY KEY NOT NULL, /*0517YW 用戶ID 等同於提供給新用戶的推薦碼*/
CustomizedUserName NVARCHAR(50) NOT NULL,
CustomizedUserAvatar varbinary(MAX) NOT NULL, /*0517YW 預設僅提供四個頭像給用戶選擇*/
E_Mail NVARCHAR(100) NOT NULL UNIQUE,
Password NVARCHAR(50) NOT NULL,
MyShell MONEY ,
IsPremium BIT NOT NULL, /*0517YW NVARCHAR(2)更改為BIT資料型態*/
JoinTime Date NOT NULL,
Member01 INT,   /*0517YW 增加三個空白欄位*/
Member02 INT,
Member03 INT
)



/*CREATE TABLE Recommender(
Id INT UNIQUE NOT NULL ,
)*/

Use CoinShell
CREATE TABLE Cryptocurrency(
id INT NOT NULL PRIMARY KEY IDENTITY(1,1),
Date DateTime NOT NULL,
Name_of_Cryptocurrency NVARCHAR(30),
Symbol_of_Cryptocurrency NVARCHAR(30),
Slug_of_Cryptocurrency NVARCHAR(30),
Total_Supply DECIMAL(38,8),
Max_Supply DECIMAL(38,8),
Circulating_Supply DECIMAL(38,8),
Percent_Change_1h DECIMAL(12,8),
Percent_Change_24h DECIMAL(12,8),
Percent_Change_7d DECIMAL(12,8),
Percent_Change_30d DECIMAL(12,8),
Percent_Change_60d DECIMAL(12,8),
Percent_Change_90d DECIMAL(12,8),
ytdPriceChangePercentageTwd DECIMAL(12,8),
ytdPriceChangePercentageUsd DECIMAL(12,8),
TWD_Price_of_Cryptocurrency MONEY,
TWD_Market_Cap MONEY ,
TWD_Fully_Diluted_Market_Cap MONEY ,
USD_Price_of_Cryptocurrency MONEY,
USD_Market_Cap MONEY ,
USD_Fully_Diluted_Market_Cap MONEY ,
volume24h DECIMAL(38,8),
)

Use CoinShell

CREATE TABLE Sets_of_Investmen(
Id INT REFERENCES Members(Id),
Order_of_Sets INT NOT NULL unique ,
Element_of_Set1 NVARCHAR(50),
Element_of_Set2 NVARCHAR(50),
Element_of_Set3 NVARCHAR(50),
Element_of_Set4 NVARCHAR(50),
Element_of_Set5 NVARCHAR(50),
Element_of_Set6 NVARCHAR(50),
Element_of_Set7 NVARCHAR(50),
Element_of_Set8 NVARCHAR(50),
Element_of_Set9 NVARCHAR(50),
Element_of_Set10 NVARCHAR(50),
Element_of_Set11 NVARCHAR(50),
Element_of_Set12 NVARCHAR(50),
Element_of_Set13 NVARCHAR(50),
Element_of_Set14 NVARCHAR(50),
Element_of_Set15 NVARCHAR(50),
Element_of_Set16 NVARCHAR(50),
Element_of_Set17 NVARCHAR(50),
Element_of_Set18 NVARCHAR(50),
Element_of_Set19 NVARCHAR(50),
Element_of_Set20 NVARCHAR(50),

)


USE CoinShell
Create TABLE Personal_Forum_Information (
Id INT REFERENCES Members(Id),
Total_Posted_Artical INT /*應該要和Article_Of_Members做結合，依照帳號抓出上傳的文章數量*/,
)

USE CoinShell
CREATE TABLE Article_Of_Members(
Id INT IDENTITY(1,1) NOT NULL,
Title NVARCHAR(100) NOT NULL,
E_Mail_Of_Uploader NVARCHAR(50) NOT NULL ,
Content_Of_Article NVARCHAR(max),
Isvisible INT ,
Upload_Date DATE)


USE CoinShell
CREATE TABLE HomePage_News(
Id INT IDENTITY(1,1) NOT NULL,
Title NVARCHAR(100),
Content_Of_News NVARCHAR(MAX),
Image_Of_News NVARCHAR(MAX)
)

USE CoinShell
CREATE TABLE Forum(
Id INT IDENTITY(1,1) NOT NULL,
Members_Id INT REFERENCES Members(Id),
Date TIMESTAMP,
Title  NVARCHAR(30),
Content_Of_Article NVARCHAR(MAX),
Flair NVARCHAR(30)
);


USE CoinShell
CREATE TABLE Chat(
Id INT IDENTITY(1,1) NOT NULL,
Members_Id INT REFERENCES Members(Id),
Date TIMESTAMP,
Messege NVARCHAR(100),
)



